<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Changelog - Estaci√≥n Meteorol√≥gica</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <h1 class="logo">üå§Ô∏è Estaci√≥n Meteorol√≥gica</h1>
            <ul class="nav-menu">
                <li><a href="index.html">Inicio</a></li>
                <li><a href="readme.html">README</a></li>
                <li><a href="documentacion.html">Documentaci√≥n</a></li>
                <li><a href="estado.html">Estado</a></li>
                <li><a href="changelog.html">Cambios</a></li>
            </ul>
        </div>
    </nav>

    <main class="container">
        <article class="doc-content">
            <p><h1>Changelog - Estaci√≥n Meteorol√≥gica</h1></p><p>Todos los cambios notables en este proyecto se documentan en este archivo.</p><p>---</p><p><h2>[3.0] - 2025-12-03</h2></p><p><h3>‚ú® Agregado</h3></p><p><h4>1. M√≥dulo de Limpieza Autom√°tica (üÜï Caracter√≠stica Principal)</h4>
<ul><li><strong>Nuevo m√≥dulo</strong>: <code>etl/cleaners/</code> con <code>DataCleaner</code></li></ul>
<ul><li>Limpieza autom√°tica ejecutada despu√©s de cada batch de extracci√≥n</li></ul>
<ul><li>Combina <strong>todos</strong> los archivos de Bronce en un √∫nico DataFrame</li></ul>
<ul><li>Aplica reglas de limpieza:</li></ul>
  <li style="margin-left: 40px;">Eliminaci√≥n de duplicados</li>
  <li style="margin-left: 40px;">Reemplazo de outliers (m√©todo IQR)</li>
  <li style="margin-left: 40px;">Eliminaci√≥n de columnas innecesarias</li>
  <li style="margin-left: 40px;">Filtrado de valores en rangos v√°lidos</li>
<ul><li>Guarda resultado en MinIO Silver</li></ul></p><p><h4>2. Estrategia REPLACE Implementada</h4>
<ul><li>Gesti√≥n autom√°tica de versiones</li></ul>
<ul><li>Mantiene solo el archivo m√°s reciente en Silver</li></ul>
<ul><li>Elimina autom√°ticamente versiones antiguas</li></ul>
<ul><li>Sin intervenci√≥n manual requerida</li></ul></p><p><h4>3. Integraci√≥n con Pipeline</h4>
<ul><li><code>main.py</code> ahora ejecuta:</li></ul>
  1. Extracci√≥n Bronce
  2. Limpieza Silver
  3. En ciclo continuo cada 5 minutos</p><p><h4>4. Documentaci√≥n Completa</h4>
<ul><li><code>README.md</code>: Gu√≠a r√°pida de inicio</li></ul>
<ul><li><code>DOCUMENTACION.md</code>: Documentaci√≥n t√©cnica completa</li></ul>
<ul><li><code>ESTADO<em>FINAL</em>LIMPIEZA.md</code>: Estado actual del proyecto</li></ul>
<ul><li><code>CHANGELOG.md</code>: Este archivo</li></ul></p><p><h3>üêõ Reparado</h3></p><p><ul><li>Problema: No se generaban archivos en Silver</li></ul>
  <li style="margin-left: 40px;"><strong>Soluci√≥n</strong>: Implementar limpieza autom√°tica integrada</li></p><p><ul><li>Problema: Archivos de Bronce se acumulaban</li></ul>
  <li style="margin-left: 40px;"><strong>Soluci√≥n</strong>: Combinarlos en Silver √∫nico</li></p><p><ul><li>Problema: Acumulaci√≥n de versiones en Silver</li></ul>
  <li style="margin-left: 40px;"><strong>Soluci√≥n</strong>: Estrategia REPLACE autom√°tica</li></p><p><h3>üîÑ Cambios</h3></p><p><h4>main.py</h4>
<code></code>`python
<h1>ANTES:</h1>
class ETLSystem:
    def run<em>cycle(self, cycle</em>num: int) -> bool:
        self.pipeline.process_batch()
        return True</p><p><h1>DESPU√âS:</h1>
class ETLSystem:
    def run<em>cycle(self, cycle</em>num: int) -> bool:
        self.pipeline.process_batch()
        self.<em>run</em>cleaning()  # üÜï Limpieza autom√°tica
        return True
<code></code>`</p><p><h4>control<em>manager.py ‚Üí control/control</em>manager.py</h4>
<ul><li>Movido a subdirectorio <code>control/</code> para mejor organizaci√≥n</li></ul></p><p><h3>üìù Documentaci√≥n</h3></p><p><ul><li>‚úÖ DOCUMENTACION.md: +500 l√≠neas con nueva arquitectura</li></ul>
<ul><li>‚úÖ ESTADO<em>FINAL</em>LIMPIEZA.md: Completamente reescrito</li></ul>
<ul><li>‚úÖ README.md: Creado nuevo con gu√≠a r√°pida</li></ul>
<ul><li>‚úÖ CHANGELOG.md: Creado (este archivo)</li></ul></p><p><h3>üìä Estad√≠sticas de Cambios</h3></p><p><td>M√©trica</td> Valor |
|---------|-------|
<td>Archivos nuevos</td> 3 |
<td>L√≠neas de c√≥digo a√±adidas</td> ~400 |
<td>M√≥dulos nuevos</td> 1 (<code>cleaners/</code>) |
<td>Clases nuevas</td> 1 (<code>DataCleaner</code>) |
<td>M√©todos nuevos</td> 5 en <code>DataCleaner</code> |
<td>Documentaci√≥n a√±adida</td> ~1000 l√≠neas |</p><p>---</p><p><h2>[2.0] - 2025-12-02</h2></p><p><h3>‚ú® Agregado</h3></p><p><h4>Refactorizaci√≥n OOP Completa</h4>
<ul><li>Eliminaci√≥n de c√≥digo muerto</li></ul>
<ul><li>Aplicaci√≥n de principios SOLID</li></ul>
<ul><li>Patrones de dise√±o modernos</li></ul>
<ul><li>Type hints 100%</li></ul></p><p><h4>Migraci√≥n SQL ‚Üí JSON</h4>
<ul><li>Sistema de estado basado en archivo <code>.etl_state.json</code></li></ul>
<ul><li>Eliminaci√≥n de tabla <code>etl_control</code> en PostgreSQL</li></ul>
<ul><li><code>StateManager</code> para gesti√≥n centralizada</li></ul></p><p><h3>üóëÔ∏è Eliminado</h3></p><p><ul><li><code>limpiar_cache.py</code> - Script obsoleto</li></ul>
<ul><li><code>clear_cache.py</code> - Script obsoleto</li></ul>
<ul><li><code>silver<em>layer</em>spark.py</code> - Implementaci√≥n alternativa no usada</li></ul>
<ul><li><code>ETLControlQueries</code> - Clase SQL obsoleta</li></ul>
<ul><li>M√©todo <code>get<em>incremental</em>extract_query()</code> - No invocado</li></ul>
<ul><li>M√©todo <code>initialize_table()</code> - No necesario</li></ul></p><p><h3>üîÑ Cambios</h3></p><p><ul><li>Arquitectura modular completa</li></ul>
<ul><li>Separaci√≥n clara de responsabilidades</li></ul>
<ul><li>Mejor mantenibilidad del c√≥digo</li></ul></p><p>---</p><p><h2>[1.0] - 2025-11-30</h2></p><p><h3>‚ú® Agregado</h3></p><p><h4>Pipeline Base</h4>
<ul><li>Extracci√≥n incremental de PostgreSQL</li></ul>
<ul><li>Detecci√≥n autom√°tica de columnas de rastreo</li></ul>
<ul><li>Almacenamiento en MinIO (Bronce)</li></ul>
<ul><li>Control de estado de extracciones</li></ul></p><p><h4>Componentes Core</h4>
<ul><li><code>DatabaseConfig</code> - Configuraci√≥n PostgreSQL</li></ul>
<ul><li><code>MinIOConfig</code> - Configuraci√≥n MinIO</li></ul>
<ul><li><code>TableInspector</code> - Inspecci√≥n de schema</li></ul>
<ul><li><code>DataExtractor</code> - Extracci√≥n incremental</li></ul>
<ul><li><code>ETLPipeline</code> - Orquestaci√≥n</li></ul>
<ul><li><code>TableProcessor</code> - Procesamiento por tabla</li></ul></p><p><h4>Funcionalidades</h4>
<ul><li>Ejecuci√≥n en ciclos continuos</li></ul>
<ul><li>Intervalo configurable</li></ul>
<ul><li>Detecci√≥n autom√°tica de nuevos datos</li></ul>
<ul><li>Logs informativos</li></ul></p><p>---</p><p><h2>Planificaci√≥n Futura</h2></p><p><h3>[3.1] - Pr√≥ximo Release</h3>
<ul><li>[ ] Logging estructurado (logging module)</li></ul>
<ul><li>[ ] Retry autom√°tico en errores</li></ul>
<ul><li>[ ] M√©tricas y monitoreo</li></ul></p><p><h3>[3.2] - Mejoras de Operaciones</h3>
<ul><li>[ ] API REST para monitoreo</li></ul>
<ul><li>[ ] Interfaz web de administraci√≥n</li></ul>
<ul><li>[ ] Alertas por errores</li></ul>
<ul><li>[ ] Dashboard de estad√≠sticas</li></ul></p><p><h3>[4.0] - Arquitectura Avanzada</h3>
<ul><li>[ ] Async/Await para mejor performance</li></ul>
<ul><li>[ ] Tests unitarios e integraci√≥n</li></ul>
<ul><li>[ ] Soporte para m√∫ltiples bases de datos</li></ul>
<ul><li>[ ] Cache distribuido</li></ul></p><p>---</p><p><h2>Notas de Versi√≥n</h2></p><p><h3>v3.0 - Cambios Significativos</h3></p><p><strong>Punto de quiebre</strong>: La estructura de directorios cambi√≥. Asegurar que:
<ul><li>Los imports se actualicen si hay c√≥digo personalizado</li></ul>
<ul><li>Las rutas apunten al nuevo <code>etl/cleaners/</code></li></ul></p><p><strong>Migraci√≥n desde v2.0 a v3.0</strong>:
<code></code>`python
<h1>ANTES (v2.0):</h1>
<h1>Limpieza manual o via notebook</h1></p><p><h1>AHORA (v3.0):</h1>
<h1>Limpieza autom√°tica integrada en pipeline</h1>
python main.py  # Hace todo autom√°ticamente
<code></code>`</p><p>---</p><p><h2>C√≥mo Contribuir</h2></p><p>Si encuentras bugs o tienes ideas de mejora:</p><p>1. <strong>Reportar bugs</strong>: Crear un issue con detalles
2. <strong>Sugerir mejoras</strong>: Describir la funcionalidad deseada
3. <strong>Contribuir c√≥digo</strong>: Fork + Pull Request</p><p>---</p><p><h2>Historial de Cambios por Componente</h2></p><p><h3>ETL Pipeline</h3>
<ul><li>v1.0: Implementaci√≥n base</li></ul>
<ul><li>v2.0: Refactorizaci√≥n OOP</li></ul>
<ul><li>v3.0: Integraci√≥n de limpieza autom√°tica</li></ul></p><p><h3>State Management</h3>
<ul><li>v1.0: Tabla <code>etl_control</code> en PostgreSQL</li></ul>
<ul><li>v2.0: Migraci√≥n a JSON (<code>.etl_state.json</code>)</li></ul>
<ul><li>v3.0: Sin cambios (estable)</li></ul></p><p><h3>Data Cleaner</h3>
<ul><li>v1.0: No existe</li></ul>
<ul><li>v2.0: No existe</li></ul>
<ul><li>v3.0: Implementaci√≥n completa</li></ul></p><p><h3>MinIO Storage</h3>
<ul><li>v1.0: Bronce solamente</li></ul>
<ul><li>v2.0: Bronce + Silver manual</li></ul>
<ul><li>v3.0: Bronce + Silver autom√°tico con REPLACE</li></ul></p><p>---</p><p><strong>√öltima actualizaci√≥n</strong>: 3 de Diciembre de 2025  
<strong>Versi√≥n actual</strong>: 3.0  
<strong>Mantenedor</strong>: Andrews0212
</p>
        </article>
    </main>

    <footer>
        <p>&copy; 2025 Estaci√≥n Meteorol√≥gica. Versi√≥n 3.0</p>
    </footer>
</body>
</html>
