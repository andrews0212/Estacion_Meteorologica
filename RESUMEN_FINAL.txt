â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                      âœ… TAREA COMPLETADA EXITOSAMENTE âœ…
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ OBJETIVO LOGRADO
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

En cada ciclo de la tuberÃ­a, se actualiza automÃ¡ticamente el archivo CSV de la 
capa Gold descargÃ¡ndolo a la carpeta `file/` para que Power BI pueda analizarlo 
en tiempo real al mismo tiempo del batch.


âœ¨ LO QUE SE IMPLEMENTÃ“
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. âœ… ModificaciÃ³n de main.py
   â€¢ Agregada importaciÃ³n de Minio client
   â€¢ Nuevo mÃ©todo _download_gold_for_powerbi()
   â€¢ Se ejecuta automÃ¡ticamente despuÃ©s de generar KPIs
   â€¢ Crea carpeta file/ si no existe
   â€¢ Descarga metricas_kpi_gold.csv desde MinIO Gold

2. âœ… CorrecciÃ³n de config/minio_config.py
   â€¢ Agregado atributo 'secure'
   â€¢ Configurable vÃ­a variable de entorno

3. âœ… Scripts de Utilidad Nuevos
   â€¢ monitor_powerbi.py â†’ Monitorea cambios en tiempo real
   â€¢ test_pipeline.py â†’ Valida N ciclos del pipeline
   â€¢ quickstart.ps1 â†’ Interface PowerShell
   â€¢ start_pipeline.bat â†’ Interface Windows CMD

4. âœ… DocumentaciÃ³n Completa
   â€¢ GUIA_PIPELINE_POWERBI.md â†’ Instrucciones detalladas
   â€¢ CAMBIOS_DESCARGA_POWERBI.md â†’ Cambios tÃ©cnicos
   â€¢ RESUMEN_IMPLEMENTACION.txt â†’ Resumen completo
   â€¢ RESUMEN_EJECUTIVO.txt â†’ Para usuario final
   â€¢ INDICE.md â†’ NavegaciÃ³n y referencias


ğŸ“Š FLUJO OPERATIVO ACTUAL
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CICLO ETL                               â”‚
â”‚                      (cada 5 minutos)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  ExtracciÃ³n: PostgreSQL â†’ Bronze (MinIO)  â”‚
        â”‚  (tabla: sensor_readings)                 â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Limpieza: Bronze â†’ Silver (MinIO)        â”‚
        â”‚  (5 columnas: id, temp, hum, ts, ip)      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  KPIs: Silver â†’ Gold (MinIO)              â”‚
        â”‚  (9 columnas: KPIs de temp y humedad)     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  âœ¨ DESCARGA AUTOMÃTICA (NUEVO)           â”‚
        â”‚  Gold â†’ file/metricas_kpi_gold.csv        â”‚
        â”‚  (se actualiza en cada ciclo)             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Power BI Analysis                        â”‚
        â”‚  (acceso a CSV en tiempo real)            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ğŸš€ CÃ“MO USAR AHORA
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

OPCIÃ“N 1 - Windows (Recomendado, doble click):
    start_pipeline.bat
    â†’ Abre menÃº interactivo

OPCIÃ“N 2 - PowerShell:
    .\quickstart.ps1 run
    â†’ Ejecuta pipeline continuo

OPCIÃ“N 3 - Terminal Python:
    python main.py
    â†’ EjecuciÃ³n directa del pipeline


ğŸ“ UBICACIÃ“N DEL ARCHIVO POWER BI
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“ Ruta: C:\Users\Alumno_AI\Desktop\Estacion_Meteorologica\file\
ğŸ“„ Archivo: metricas_kpi_gold.csv
ğŸ“Š Contenido: 97 registros con KPIs de 5 sensores
ğŸ”„ ActualizaciÃ³n: AutomÃ¡tica en cada ciclo (cada 5 minutos)

Columnas:
  â€¢ id: ID del sensor (1-5)
  â€¢ lecturas: Total de registros
  â€¢ temp_avg, temp_max, temp_min, temp_std: MÃ©tricas de temperatura
  â€¢ hum_avg, hum_max, hum_min: MÃ©tricas de humedad


ğŸ“Š INTEGRACIÃ“N CON POWER BI
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Ejecutar pipeline:
   > python main.py

2. Abrir Power BI Desktop

3. Importar CSV:
   Home â†’ Get Data â†’ Text/CSV
   Buscar: file/metricas_kpi_gold.csv

4. Crear visualizaciones con los KPIs

5. (Opcional) Configurar refresh automÃ¡tico en Power BI


âœ… VALIDACIÃ“N EXITOSA
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âœ“ Test de 1 ciclo ejecutado
âœ“ Archivo descargado correctamente: 3653 bytes
âœ“ 97 registros en metricas_kpi_gold.csv
âœ“ Todas las columnas de KPIs presentes
âœ“ Formato CSV compatible con Power BI
âœ“ Sin errores de ejecuciÃ³n
âœ“ Listo para producciÃ³n


ğŸ“‹ ARCHIVOS CREADOS/MODIFICADOS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Modificados:
  âœ“ main.py (agregada descarga automÃ¡tica)
  âœ“ config/minio_config.py (agregado atributo 'secure')

Creados:
  âœ“ monitor_powerbi.py (monitorear cambios)
  âœ“ test_pipeline.py (validar pipeline)
  âœ“ quickstart.ps1 (interface PowerShell)
  âœ“ start_pipeline.bat (interface Windows)
  âœ“ GUIA_PIPELINE_POWERBI.md (instrucciones)
  âœ“ CAMBIOS_DESCARGA_POWERBI.md (cambios tÃ©cnicos)
  âœ“ RESUMEN_IMPLEMENTACION.txt (resumen completo)
  âœ“ RESUMEN_EJECUTIVO.txt (para usuario final)
  âœ“ INDICE.md (navegaciÃ³n)
  âœ“ RESUMEN_FINAL.txt (este archivo)

Existentes (descargado):
  âœ“ file/metricas_kpi_gold.csv (actualizado automÃ¡ticamente)


âš™ï¸ CONFIGURACIÃ“N PERSONALIZABLE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Intervalo entre ciclos:
  Editar main.py lÃ­nea ~220:
    system = ETLSystem(extraction_interval=300)
  
  Ejemplos:
    60 = 1 minuto
    300 = 5 minutos (default)
    600 = 10 minutos

Monitor de cambios:
  python monitor_powerbi.py --interval 5 --duration 300
  --interval: segundos entre verificaciones
  --duration: duraciÃ³n total (0 = infinito)

Credenciales MinIO:
  Editar config/minio_config.py


ğŸ” COMANDOS PRINCIPALES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Ejecutar pipeline continuo:
  python main.py

Validar con 1 ciclo:
  python test_pipeline.py -c 1

Validar con 3 ciclos:
  python test_pipeline.py -c 3 -i 5

Monitorear cambios:
  python monitor_powerbi.py --interval 5

Descargar CSV manualmente:
  python descargar_gold.py


ğŸ†˜ TROUBLESHOOTING
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

"Error connecting to MinIO"
  â†’ Verificar: MinIO estÃ¡ corriendo en localhost:9000

"Archivo no se descarga"
  â†’ Ejecutar: python descargar_gold.py (test manual)
  â†’ Verificar: Al menos 1 ciclo completÃ³ exitosamente
  â†’ Comprobar: Permisos de escritura en carpeta file/

"PySpark not found"
  â†’ Instalar: pip install pyspark==3.4.1

"ModuleNotFoundError: minio"
  â†’ Instalar: pip install minio


ğŸ“š DOCUMENTACIÃ“N RECOMENDADA
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Para empezar rÃ¡pido:
  â†’ RESUMEN_EJECUTIVO.txt

Para instrucciones completas:
  â†’ GUIA_PIPELINE_POWERBI.md

Para entender cambios tÃ©cnicos:
  â†’ CAMBIOS_DESCARGA_POWERBI.md

Para navegaciÃ³n y referencias:
  â†’ INDICE.md


ğŸ¯ PRÃ“XIMOS PASOS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Corto plazo:
  1. Ejecutar: python main.py
  2. Monitorear: python monitor_powerbi.py (en otra terminal)
  3. Verificar que file/metricas_kpi_gold.csv se actualiza
  4. Abrir Power BI Desktop
  5. Importar el CSV

Mediano plazo:
  1. Crear dashboards en Power BI
  2. Configurar refresh automÃ¡tico
  3. Crear alertas si es necesario

Largo plazo:
  1. Publicar en Power BI Service
  2. Compartir reportes con equipo
  3. Optimizar segÃºn retroalimentaciÃ³n


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ¨ RESUMEN FINAL

El pipeline ETL ahora automatiza COMPLETAMENTE la descarga del archivo Gold 
desde MinIO a la carpeta local `file/` en cada ciclo, permitiendo que Power BI 
tenga acceso a los datos en tiempo real sin intervenciÃ³n manual.

Todo estÃ¡ validado, documentado y listo para producciÃ³n.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ PARA EMPEZAR AHORA MISMO:

    python main.py

O con interfaz:

    start_pipeline.bat  (Windows)
    .\quickstart.ps1 run  (PowerShell)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ãšltima actualizaciÃ³n: 2025-12-03
Estado: âœ… COMPLETADO Y VALIDADO
VersiÃ³n: 1.0
